function getCurrentMembers(){$.ajax({url:"/memberstatus",dataType:"json",contentType:"application/json",method:"GET",success:function(e){e.forEach(e=>{membername=e.username.replace("/",""),membername=membername.replace("-",""),membername=membername.replace(/\s+/g,""),1==e.active&&($(`#${membername}row`).length?$(`#${membername}queue`).append(`<p id=p${e.queue}>${e.queue}</p>`):$("#techtable tbody").append(`\n                <tr id="${membername}row">\n                <td id="${membername}">${e.username}</td>\n                <td id="${membername}status" class="text-success">Online</td>\n                <td id="${membername}queue"><p id=p${e.queue}>${e.queue}</p></td>\n                <td id="${membername}callstatus">Ready</td>\n                </tr>`))})},complete:function(){$("#techtable").tablesorter({sortList:[[3,1]]})}})}function setCopyRightDate(){var e=(new Date).getFullYear();$("#datediv").html(`Â© ${e} Copyright:\n    <p> @Parakoopa</p>`)}$("document").ready(function(){var e=io.connect("http://"+document.location.host);e.on("added",e=>{membername=e.membername.replace("/",""),membername=membername.replace("-",""),membername=membername.replace(/\s+/g,""),$(`#${membername}row`).length&&$(`#${membername}queue`).append(`<p id=p${e.queue}>${e.queue}</p>`)}),e.on("ringing",e=>{membername=e.membername.replace("/",""),membername=membername.replace("-",""),membername=membername.replace(/\s+/g,""),$(`#${membername}row`).length&&$(`#${membername}callstatus`).text("Ringing").addClass("text-success")}),e.on("ready",e=>{membername=e.membername.replace("/",""),membername=membername.replace("-",""),membername=membername.replace(/\s+/g,""),$(`#${membername}row`).length&&$(`#${membername}callstatus`).text("Ready").removeClass("text-success text-danger")}),e.on("oncall",e=>{membername=e.membername.replace("/",""),membername=membername.replace("-",""),membername=membername.replace(/\s+/g,""),$(`#${membername}row`).length&&$(`#${membername}callstatus`).text("On Call").removeClass("text-success text-danger")}),e.on("onhold",e=>{membername=e.membername.replace("/",""),membername=membername.replace("-",""),membername=membername.replace(/\s+/g,""),$(`#${membername}row`).length&&$(`#${membername}callstatus`).text("On Hold")}),e.on("unavailable",e=>{membername=e.membername.replace("/",""),membername=membername.replace("-",""),membername=membername.replace(/\s+/g,""),$(`#${membername}row`).length&&$(`#${membername}callstatus`).text("Unavailable").removeClass("text-success").addClass("text-danger")}),getCurrentMembers(),setCopyRightDate()});